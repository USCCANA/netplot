<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>A flexible piechart. — piechart • netplot</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="A flexible piechart. — piechart" />
<meta property="og:description" content="While similar to graphics::pie(), this function is much more
flexible as it allows providing different parameters for each slice of the pie.
Furthermore, it allows adding the plot to the current device, making it possible
to create compound piecharts." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">netplot</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2-0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/base-and-grid.html">Mixing netplot with base graphics</a>
    </li>
    <li>
      <a href="../articles/examples.html">Graph drawing with netplot</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/USCCANA/netplot/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>A flexible piechart.</h1>
    <small class="dont-index">Source: <a href='https://github.com/USCCANA/netplot/blob/master/R/piechart.R'><code>R/piechart.R</code></a></small>
    <div class="hidden name"><code>piechart.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>While similar to <code><a href='https://rdrr.io/r/graphics/pie.html'>graphics::pie()</a></code>, this function is much more
flexible as it allows providing different parameters for each slice of the pie.
Furthermore, it allows adding the plot to the current device, making it possible
to create compound piecharts.</p>
    </div>

    <pre class="usage"><span class='fu'>piechart</span><span class='op'>(</span>
  <span class='va'>x</span>,
  labels <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/names.html'>names</a></span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>,
  radius <span class='op'>=</span> <span class='fl'>1</span>,
  doughnut <span class='op'>=</span> <span class='fl'>0</span>,
  origin <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>0</span><span class='op'>)</span>,
  edges <span class='op'>=</span> <span class='fl'>200</span>,
  slice.off <span class='op'>=</span> <span class='fl'>0</span>,
  init.angle <span class='op'>=</span> <span class='fl'>0</span>,
  last.angle <span class='op'>=</span> <span class='fl'>360</span>,
  tick.len <span class='op'>=</span> <span class='fl'>0.1</span>,
  text.args <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='op'>)</span>,
  segments.args <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='op'>)</span>,
  skip.plot.slices <span class='op'>=</span> <span class='cn'>FALSE</span>,
  add <span class='op'>=</span> <span class='cn'>FALSE</span>,
  rescale <span class='op'>=</span> <span class='cn'>TRUE</span>,
  <span class='va'>...</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>Numeric vector. Values that specify the area of the slices.</p></td>
    </tr>
    <tr>
      <th>labels</th>
      <td><p>Character vector of length <code><a href='https://rdrr.io/r/base/length.html'>length(x)</a></code>. Passed to
<code><a href='https://rdrr.io/r/graphics/text.html'>graphics::text()</a></code>.</p></td>
    </tr>
    <tr>
      <th>radius</th>
      <td><p>Numeric vector. Radious of each slice (can be a scalar).</p></td>
    </tr>
    <tr>
      <th>doughnut</th>
      <td><p>Numeric scalar. Radious of each inner circle (doughnut) (can be a scalar).</p></td>
    </tr>
    <tr>
      <th>origin</th>
      <td><p>Numeric vector of length 2. Coordinates of the origin.</p></td>
    </tr>
    <tr>
      <th>edges</th>
      <td><p>Numeric scalar. Smoothness of the slices curve (can be a vector).</p></td>
    </tr>
    <tr>
      <th>slice.off</th>
      <td><p>Numeric vector. When <code>!=0</code>, specifies how much to
move the slice away from the origin. When scalar is recycled.</p></td>
    </tr>
    <tr>
      <th>init.angle</th>
      <td><p>Numeric scalar. Angle from where to start drawing in degrees.</p></td>
    </tr>
    <tr>
      <th>last.angle</th>
      <td><p>Numeric scalar. Angle where to finish drawing in degrees.</p></td>
    </tr>
    <tr>
      <th>tick.len</th>
      <td><p>Numeric scalar. Size of the tick marks as proportion of the radius.</p></td>
    </tr>
    <tr>
      <th>text.args</th>
      <td><p>List. Further arguments passed to <code><a href='https://rdrr.io/r/graphics/text.html'>graphics::text()</a></code>.</p></td>
    </tr>
    <tr>
      <th>segments.args</th>
      <td><p>List. Further arguments passed to <code><a href='https://rdrr.io/r/graphics/segments.html'>graphics::segments()</a></code>
when drawing the tickmarks.</p></td>
    </tr>
    <tr>
      <th>skip.plot.slices</th>
      <td><p>Logical scalar. When <code>FALSE</code>, slices are not drawn.
This can be useful if, for example, the user only wants to draw the labels.</p></td>
    </tr>
    <tr>
      <th>add</th>
      <td><p>Logical scalar. When <code>TRUE</code> it is added to the current device.</p></td>
    </tr>
    <tr>
      <th>rescale</th>
      <td><p>Logical scalar. When <code>TRUE</code> (default), the y-coordinates of
the polygons (slices), text and tickmarks will be rescaled such that the
aspectt ratio is preserved, i.e. looks like a circle.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Further arguments passed to <code><a href='https://rdrr.io/r/graphics/polygon.html'>graphics::polygon()</a></code>
(see details).</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A list with the following elements:</p>
<dt>slices</dt><dd><p>A list of length <code><a href='https://rdrr.io/r/base/length.html'>length(x)</a></code> with the coordinates of each
slice.</p></dd>
<dt>textcoords</dt><dd><p>A numeric matrix of size <code>length(x)*2</code> with
coordinates where the labels can be put at.</p></dd>
<dt>alpha0</dt><dd><p>A numeric vector of size <code><a href='https://rdrr.io/r/base/length.html'>length(x)</a></code> with the starting
degree in radians of the slice.</p></dd>
<dt>alpha1</dt><dd><p>A numeric vector of size <code><a href='https://rdrr.io/r/base/length.html'>length(x)</a></code> with the ending
degree in radians of the slice.</p></dd>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The function is a wrapper of <code><a href='https://rdrr.io/r/graphics/polygon.html'>graphics::polygon()</a></code>,
so all parameters such as color, density, border, etc. are passed directly
by <code><a href='https://rdrr.io/r/base/mapply.html'>mapply()</a></code> so that are specified one per slice. The coordinates
of the slices are computed internally.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>https://commons.wikimedia.org/wiki/File:Nightingale-mortality.jpg</p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='co'># Example 1 -----------------------------------------------------------------</span>
<span class='co'># A set of 3 nested rings rings starting at 315 deg. and ending at 270 deg.</span>

<span class='co'># Values to plot</span>
<span class='va'>vals</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span>,<span class='fl'>2</span>,<span class='fl'>3</span>,<span class='fl'>10</span><span class='op'>)</span>

<span class='co'># Outer (includes labels)</span>
<span class='fu'>piechart</span><span class='op'>(</span><span class='va'>vals</span>, col<span class='op'>=</span><span class='fu'>grDevices</span><span class='fu'>::</span><span class='va'><a href='https://rdrr.io/r/grDevices/densCols.html'>blues9</a></span><span class='op'>[</span><span class='fl'>5</span><span class='op'>:</span><span class='fl'>8</span><span class='op'>]</span>, border<span class='op'>=</span><span class='cn'>NA</span>, doughnut <span class='op'>=</span> <span class='fl'>.5</span>,
    radius<span class='op'>=</span><span class='fl'>.75</span>, labels<span class='op'>=</span><span class='va'>vals</span>, init.angle <span class='op'>=</span> <span class='fl'>315</span>, last.angle <span class='op'>=</span> <span class='fl'>270</span><span class='op'>)</span>
</div><div class='input'>
<span class='co'># Middle</span>
<span class='fu'>piechart</span><span class='op'>(</span><span class='va'>vals</span>, col<span class='op'>=</span><span class='fu'>grDevices</span><span class='fu'>::</span><span class='va'><a href='https://rdrr.io/r/grDevices/densCols.html'>blues9</a></span><span class='op'>[</span><span class='fl'>3</span><span class='op'>:</span><span class='fl'>6</span><span class='op'>]</span>, border<span class='op'>=</span><span class='cn'>NA</span>, doughnut <span class='op'>=</span> <span class='fl'>.3</span>,
    radius<span class='op'>=</span><span class='fl'>.5</span>, add<span class='op'>=</span><span class='cn'>TRUE</span>, init.angle <span class='op'>=</span> <span class='fl'>315</span>, last.angle <span class='op'>=</span> <span class='fl'>270</span><span class='op'>)</span>
</div><div class='input'>
<span class='co'># Inner</span>
<span class='fu'>piechart</span><span class='op'>(</span><span class='va'>vals</span>, col<span class='op'>=</span><span class='fu'>grDevices</span><span class='fu'>::</span><span class='va'><a href='https://rdrr.io/r/grDevices/densCols.html'>blues9</a></span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>4</span><span class='op'>]</span>, border<span class='op'>=</span><span class='st'>"gray"</span>, doughnut <span class='op'>=</span> <span class='fl'>.1</span>,
    radius<span class='op'>=</span><span class='fl'>.3</span>, add<span class='op'>=</span><span class='cn'>TRUE</span>, init.angle <span class='op'>=</span> <span class='fl'>315</span>, last.angle <span class='op'>=</span> <span class='fl'>270</span><span class='op'>)</span>
</div><div class='img'><img src='piechart-1.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='co'># Example 2 -----------------------------------------------------------------</span>
<span class='co'># Passing values to polygon and playing with the radius and slice.off</span>

<span class='fu'>piechart</span><span class='op'>(</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>10</span>, density<span class='op'>=</span><span class='op'>(</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>10</span><span class='op'>)</span><span class='op'>^</span><span class='fl'>2</span><span class='op'>/</span><span class='fl'>2</span>, slice.off <span class='op'>=</span> <span class='op'>(</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>10</span><span class='op'>)</span><span class='op'>/</span><span class='fl'>30</span>, doughnut <span class='op'>=</span> <span class='fl'>.5</span>,
  radius <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/MathFun.html'>sqrt</a></span><span class='op'>(</span><span class='fl'>10</span><span class='op'>:</span><span class='fl'>1</span><span class='op'>)</span>,
  <span class='co'># Here we are setting random labels...</span>
  labels<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/lapply.html'>sapply</a></span><span class='op'>(</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>10</span>, <span class='kw'>function</span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span> <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/sample.html'>sample</a></span><span class='op'>(</span><span class='va'>letters</span>, <span class='va'>x</span>, <span class='cn'>TRUE</span><span class='op'>)</span>, collapse<span class='op'>=</span><span class='st'>""</span><span class='op'>)</span><span class='op'>)</span>
  <span class='op'>)</span>
</div><div class='img'><img src='piechart-2.png' alt='' width='700' height='433' /></div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by George Vega Yon, Porter Bischoff.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


